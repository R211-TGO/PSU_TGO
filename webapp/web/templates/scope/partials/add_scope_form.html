{# File path: /templates/scope/partials/add_scope_form.html #}
{# This is a partial file for the modal. It MUST NOT contain {% extends %} or {% block %}. #}

<form method="POST" action="{{ url_for('scope_management.add_scope') }}">
    <h3 class="text-xl font-semibold mb-6">
        {{ t.add_scope }}
    </h3>

    <div class="space-y-4">
        <!-- Scope หลัก -->
        <div>
            <label for="ghg_scope" class="block text-sm font-medium text-gray-700 mb-2">
                {{ t.ghg_scope }} <span class="text-red-500">*</span>
            </label>
            <input type="number"
                   name="ghg_scope"
                   class="input input-bordered w-full"
                   placeholder="{{ t.enter_ghg_scope }}"
                   min="1"
                   max="99"
                   required
                   value="{{ default_scope or '1' }}">
        </div>

        <!-- Scope ย่อย -->
        <div>
          <label for="ghg_sup_scope" class="block text-sm font-medium text-gray-700 mb-2">
            {{ t.ghg_sub_scope }} <span class="text-red-500">*</span>
          </label>
          <input type="number" name="ghg_sup_scope"
                 class="input input-bordered w-full"
                 required
                 placeholder="{{ t.enter_ghg_sub_scope }}">
        </div>

        <!-- ชื่อ Scope -->
        <div>
          <label for="ghg_name" class="block text-sm font-medium text-gray-700 mb-2">
            {{ t.ghg_name }} <span class="text-red-500">*</span>
          </label>
          <input type="text" name="ghg_name"
                 class="input input-bordered w-full"
                 placeholder="{{ t.enter_ghg_name }}"
                 required>
        </div>
        
        <!-- คำอธิบาย Scope -->
        <div>
          <label for="ghg_desc" class="block text-sm font-medium text-gray-700 mb-2">
            {{ t.ghg_description }} <span class="text-red-500">*</span>
          </label>
          <textarea name="ghg_desc"
                    class="textarea textarea-bordered w-full"
                    rows="3"
                    placeholder="{{ t.enter_ghg_description }}"
                    required></textarea>
        </div>
    </div>

    <!-- ปุ่ม -->
    <div class="flex justify-end gap-4 pt-6 mt-6 border-t">
        <button type="button" onclick="document.getElementById('modal').classList.remove('modal-open')" class="btn btn-outline btn-secondary">
            <i data-feather="x" class="w-4 h-4 mr-2"></i>
            {{ t.cancel }}
        </button>
        <button type="submit" class="btn btn-primary">
            <i data-feather="save" class="w-4 h-4 mr-2"></i>
            {{ t.submit }}
        </button>
    </div>
</form>

<script>
  // Re-initialize feather icons inside the modal
  if (typeof feather !== 'undefined') {
    feather.replace();
  }
</script>
